<!DOCTYPE html>
<html>
<head>
	<!--<link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.4/css/bootstrap.min.css">!-->
	<link rel="stylesheet" href="css/bootstrap.css">
	<!--<script src="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.4/js/bootstrap.min.js"></script>!-->
	<script src="js/jquery.js"></script>
	<script src="js/bootstrap.js"></script>
	<script src="js/tabletop.js"></script>
	<!--<script src="http://pastebin.com/raw.php?i=WtLCSUwe"></script>!-->

	<!-- bootstrap-select
	<link rel="stylesheet" href="css/bootstrap-select.css">
	<script src="js/bootstrap-select.min.js"></script>
	 !-->
	    <script type="text/javascript">
		var public_spreadsheet_url = 'https://docs.google.com/spreadsheet/pub?hl=en_US&hl=en_US&key=1IKrS5uJcT0dahtSlrwJsREUkNHc6Bk1FryaZfnS8bOU';

		//Other Vars: "Timestamp", "Handle", "Level", "Fullfilled", "Fullfilled By", "Cost"
		
		var DebugFlag=0;
				
		var Head=["HeadQuality", "HeadTrait", "HeadMotif", "HeadEnchant", "HeadSet", "HeadCost"];
		var Chest=["ChestQuality", "ChestTrait", "ChestMotif", "ChestEnchant", "ChestSet", "ChestCost"];
		var Legs=["LegsQuality",  "LegsTrait", "LegsMotif", "LegsEnchant", "LegsSet"];
		var Feet=["FeetQuality",  "FeetTrait", "FeetMotif", "FeetEnchant", "FeetSet"];
		var Shoulder=["ShoulderQuality",  "ShoulderTrait", "ShoulderMotif", "ShoulderEnchant", "ShoulderSet"];
		var Hand=["HandQuality",  "HandTrait", "HandMotif", "HandEnchant", "HandSet"];
		var Belt=["BeltQuality",  "BeltTrait", "BeltMotif", "BeltEnchant", "BeltSet"];
		var Shield=["ShieldQuality", "ShieldTrait", "ShieldMotif", "ShieldEnchant", "ShieldSet"];
		var Weapon1=["Weapon1Quality",  "Weapon1Trait", "Weapon1Motif", "Weapon1Enchant",  "Weapon1Set"];
		var Weapon2=["Weapon2Quality", "Weapon2Trait", "Weapon2Motif", "Weapon2Enchant", "Weapon2Set"];
		var Weapon3=["Weapon3Quality", "Weapon3Trait",  "Weapon3Motif", "Weapon3Enchant", "Weapon3Set"];

		var Categories=["Head","Chest","Legs","Feet","Shoulder","Hand","Belt","Shield","Weapon1","Weapon2","Weapon3"];
		//var CategoriesData=[Head,Chest,Legs,Feet,Shoulder,Hand,Belt,Shield,Weapon1,Weapon2,Weapon3];
		var CategoriesPresent= [];
		var EmptyArray=[];
		var ValidWords=[];

onsubmit="setTimeout(function () { window.location.reload(); }, 10)"

      $(document).ready( function() {
        Tabletop.init( { key: public_spreadsheet_url,
                         callback: showRequestInfo,
                         wanted: [ "Requests", "Fulfillments" ],
                         debug: false } );
      })
/*
//////////////////////////////////
//Filter Script
(function(){
    'use strict';
	var $ = jQuery;
	$.fn.extend({
		filterTable: function(){
			return this.each(function(){
				$(this).on('keyup', function(e){
					$('.filterTable_no_results').remove();
					var $this = $(this), 
                        search = $this.val().toLowerCase(), 
                        target = $this.attr('data-filters'), 
                        $target = $(target), 
                        $rows = $target.find('tbody tr');
                        
					if(search == '') {
						$rows.show(); 
					} else {
						$rows.each(function(){
							var $this = $(this);
							$this.text().toLowerCase().indexOf(search) === -1 ? $this.hide() : $this.show();
						})
						if($target.find('tbody tr:visible').size() === 0) {
							var col_count = $target.find('tr').first().find('td').size();
							var no_results = $('<tr class="filterTable_no_results"><td colspan="'+col_count+'">No results found</td></tr>')
							$target.find('tbody').append(no_results);
						}
					}
				});
			});
		}
	});
	$('[data-action="filter"]').filterTable();
})(jQuery);

$(function(){
    // attach table filter plugin to inputs
	$('[data-action="filter"]').filterTable();
	
	$('.container').on('click', '.panel-heading span.filter', function(e){
		var $this = $(this), 
			$panel = $this.parents('.panel');
		
		$panel.find('.panel-body').slideToggle();
		if($this.css('display') != 'none') {
			$panel.find('.panel-body input').focus();
		}
	});
	$('[data-toggle="tooltip"]').tooltip();

///////////////////////	  
*/
function CreateFulfillmentForm(RequestRowData,FulfillmentsRowData){
	var i,j;
	var UserIndices=[];
	var UserTimes=[];
	var PasteString="";
	
	//var RequestRowData=tabletop.sheets("Requests").all();
	//var FulfillmentsRowData=tabletop.sheets("Fulfillments").all();
	//Exception handling:
	if(RequestRowData.length <=0 ){
		TotalUsers=1;
	}
	else{
		TotalUsers=RequestRowData.length;
	}		
	for(i=0; i < TotalUsers;i++){
		var found=0,found2=0,found3=0;

		for(j=0; j < FulfillmentsRowData;j++){
			if(RequestRowData[i].Handle === FulfillmentsRowData[j].Handle && RequestRowData[i].Timestamp === FulfillmentsRowData[j].OrderDate){
				found=1;
				break;
			}
		}
		
		if(found === 0){//If the request has NOT been fulfilled, then display
			for(j=0;j<UserIndices.length;j++){
				if(UserIndices[j]===RequestRowData[i].Handle){
					found2=1;
					break;
				}
			}
			for(j=0;j<UserTimes.length;j++){
				if(UserTimes[j]===RequestRowData[i].OrderDate){
					found3=1;
					break;
				}
				for(k=0;k<FulfillmentsRowData.length;k++){
					if(RequestRowData[i].Timestamp===FulfillmentsRowData[k].OrderDate){
						found3=1;
						break;
					}				
				}
				if(found2===0){//Make sure there are NO duplicates of Usernames
					UserIndices.push(RequestRowData[i].Handle);
				}
				if(found3===0){
					UserTimes.push(RequestRowData[i].Timestamp);
				}
			}
		}
	}
		PasteString+="<h1><u><b>Fulfill Request</b></u></h1>";
		PasteString+="<form action=\"https://docs.google.com/forms/d/1JiO62717EzBhxqXIlrX9GX7NsnFBF89S5waK1kJHtF0/formResponse?embedded=true\" method=\"POST\" target=\"_self\" onsubmit=\"\">";
		PasteString+="<label for=\"Handle\">Handle: </label>";
		PasteString+="<select id=\"Handle\" class=\"form-control\" name=\"entry_1463831978\">";
		for(i=0;i<UserIndices.length;i++){
			PasteString+="<option value=\""+UserIndices[i]+"\">"+UserIndices[i]+"</option>";
		}
		PasteString+="</select>";
		PasteString+="<label for=\"date\">Date: </label>";
		PasteString+="<select id=\"date\" name=\"entry_2009906019\" class=\"form-control\">";
		for(i=0;i<UserTimes.length;i++){
			PasteString+="<option value=\""+UserTimes[i]+"\">"+UserTimes[i]+"</option>";
		}
		PasteString+="</select>"
		PasteString+="<br><button type=\"submit\" class=\"btn btn-default\">Submit</button>";
		PasteString+="</form>";
		PasteString+="<hr>";
		document.getElementById("Fulfillments").innerHTML=PasteString;
		  
}
	function showRequestInfo(data, tabletop){
		
		
		UserItemIndices=[];
		UserItemSections=[];
		$("<h1><u><b>Current Requests</b></u></h1>").appendTo("#table_info");

		var PasteString="";			
		
		var RequestRowData=tabletop.sheets("Requests").all();
		var FulfillmentsRowData=tabletop.sheets("Fulfillments").all();
		CreateFulfillmentForm(RequestRowData,FulfillmentsRowData);
		
		var i,j,k,l;
		var RequestCounter=1;
		var TotalUsers;
		
		//Exception handling:
		if(RequestRowData.length <=0 ){
			TotalUsers=1;
		}
		else{
			TotalUsers=RequestRowData.length;
		}		
		for(i=0; i < TotalUsers;i++){
			CategoriesPresent=[];
			var found=0;
			var AllMemberData="";
			//See if a request exists (via a Handle and Timestamp) in BOTH of the sheets --> implies the request has been fulfilled
			for(j=0; j < FulfillmentsRowData.length;j++){			
				if(RequestRowData[i].Handle === FulfillmentsRowData[j].Handle && RequestRowData[i].Timestamp === FulfillmentsRowData[j].OrderDate){
					console.log("Looking at "+RequestRowData[i].Handle+" for the "+FulfillmentsRowData[j].OrderDate+" order filled");
					found=1;
				}
			}
			
			if(found === 0){//If the request has NOT been fulfilled, then display
				CheckForCategoriesPresent(RequestRowData[i],CategoriesPresent);
				
				if(CategoriesPresent.length>=1){	
					UserItemIndices.push("<li class=\"\"><a href=\"\#dropdown"+RequestCounter+"\" data-toggle=\"tab\">\@"+RequestRowData[i].Handle+" ("+RequestRowData[i].Timestamp+")</a></li>");
					AllMemberData=GenerateRequestTabList(Categories,CategoriesPresent,RequestCounter,RequestRowData[i]) + GenerateRequestTabList_Content(Categories,CategoriesPresent,RequestCounter,RequestRowData[i]);
					UserItemSections.push(AllMemberData);
					RequestCounter++;
				}

			}
		}

		PasteString+="<div>";
		PasteString+="	<ul class=\"nav nav-tabs\">";
		PasteString+="		<li class=\"dropdown active\"><a href=\"#\" id=\"myTabDrop1\" class=\"dropdown-toggle\" data-toggle=\"dropdown\"><span class=\"glyphicon glyphicon-list\" aria-hidden=\"true\"></span>  Select Player  <span class=\"glyphicon glyphicon-arrow-down\" aria-hidden=\"true\"></span></a>";
		PasteString+="			<ul class=\"dropdown-menu\">";
		PasteString+="				<li class=\"active\"><a href=\"\#default\" data-toggle=\"tab\"></a></li>";
		for(i=0;i<UserItemSections.length;i++){
			PasteString+=UserItemIndices[i];
		}
		PasteString+="			</ul>";
		PasteString+="		</li>";
		PasteString+="	</ul>";
		PasteString+="	<div class=\"tab-content\">";
		PasteString+="		<div class=\"tab-pane fade active in\" id=\"default\">";
		PasteString+="			<p><font size=\"1\" color=\"gray\">(Select a Player from the dropdown)</font></p>";
		PasteString+="		</div>";

		//Print the Collection of User Data to the div element
		for(i=0;i<UserItemSections.length;i++){
			var StringToSpam="	<div class=\"tab-pane fade\" id=\"dropdown"+(i+1)+"\">";
			StringToSpam+="			<p>"+UserItemSections[i];+"</p>";
			StringToSpam+="		</div>";
			PasteString+=StringToSpam;
		}
		PasteString+="	</div>";
		PasteString+="</div>";
		
		$(PasteString).appendTo("#table_info");
	}
	

	
	function GenerateRequestTabList(ListForMenu,ListRestrictions,RequestNumber,RequestorData){
		var FirstItemFound=0;
		var TotalItems=0;
		var MenuList="<h3>Request "+(RequestNumber)+": "+ RequestorData.Handle + "</h3>(submitted on: "+ RequestorData.Timestamp + ")<br>";

		MenuList+="<ul class=\"nav nav-tabs\">";
		for(var k=0; k<ListForMenu.length; k++){
			var ListItemValid=0;
			for(l=0;l<ListRestrictions.length;l++){
				if(ListForMenu[k]===ListRestrictions[l]){
					ListItemValid=1;
					break;
				}
			}
			if(ListItemValid===1){
				if(FirstItemFound===0){
					MenuList+="<li class=\"active\"><a data-toggle=\"tab\" href=\"#"+RequestNumber+RequestorData.Handle+"menuAll\">All Items</a></li>";
					FirstItemFound=1;
				}
				else{	
					MenuList+="<li><a data-toggle=\"tab\" href=\"#"+RequestNumber+RequestorData.Handle+"menu"+k+"\">"+ ListForMenu[k] +"</a></li>";
					MenuList+="<li><a data-toggle=\"tab\" href=\"#"+RequestNumber+RequestorData.Handle+"menu"+k+"\">"+ ListForMenu[k] +"</a></li>";
				}
				TotalItems++;
			}
		}
		MenuList+="</ul>";			
		return MenuList;
	}
	
	function GenerateRequestTabList_Content(ListOfItems,ListRestrictions,RequestNumber,RequestorData){
		var FirstItemFound=0;
		var MenuListData="";
		var TotalItems=0;
		var ListAll="";
		var TotalMenuListData="";
		var ListAllStarted=0;
			TotalMenuListData+="<div class=\"tab-content\">";
			for(var k=0; k<ListOfItems.length; k++){
				var ListItemValid=0;
				for(l=0;l<ListRestrictions.length;l++){
					if(ListOfItems[k]===ListRestrictions[l]){
						ListItemValid=1;
						break;
					}
				}
				if(ListItemValid===1){
					TotalItems++;
					if(FirstItemFound===0){
						//MenuListData+="<div id=\""+RequestNumber+RequestorData.Handle+"menu"+k+"\" class=\"tab-pane fade in active\" style=\"color:white;\">";
						MenuListData+="<div id=\""+RequestNumber+RequestorData.Handle+"menuAll\" class=\"tab-pane fade in active\" style=\"color:white;\">";
						FirstItemFound=1;
					}
					else{
						TotalMenuListData+="<div id=\""+RequestNumber+RequestorData.Handle+"menu"+k+"\" class=\"tab-pane fade in\" style=\"color:white;\">";
					}
					//MenuListData+="			<h3>"+ListOfItems[k]+"</h3>";
					//MenuListData+="				<p>";
					//MenuListData+="					Test";
					var Temp=["0","1"];
					Temp=PrintGear(ListOfItems[k],RequestorData);
					//console.log("This is temp: "+Temp);
					MenuListData+="<p><table class=\"table table-condensed\"><thead><tr>"+Temp[0]+"</tr></thead><tbody><tr>"+Temp[1]+"</tr></tbody></table></p>";
					//MenuListData+=Temp;
					//Temp+="<br>";
					//ListAll+="			<h3>"+ListOfItems[k]+"</h3><p>"+Temp+"</p>";
					if(ListAllStarted===0){
						ListAll+="<p><table class=\"table table-condensed\"><thead><tr><th></th>"+Temp[0]+"</tr></thead><tbody>";
						ListAllStarted=1;
					}
					ListAll+="<tr><td><b>"+ListOfItems[k]+"</b></td>"+Temp[1]+"</tr>";
					MenuListData+="		</div>";
				}
			}
			ListAll+="</tbody></table></p>";
			if(TotalItems>1){
//				MenuListData+="<div id=\""+RequestNumber+RequestorData.Handle+"menuAll\" class=\"tab-pane fade in\" style=\"color:white;\">";
				//MenuListData+="			<h3>All</h3>";
				//MenuListData+="				<p>";
				//MenuListData+="					Test";
				MenuListData+=ListAll;
				//MenuListData+="				</p>";
				MenuListData+="		</div>";
			}
			MenuListData+="</div>";
		return MenuListData;
	}
	
	function CheckForGear(ItemArray, Data){
		//DEBUGGGING: Dump all the fields
		//console.log("This is the ItemArray: "+ItemArray);
		for(var i=0; i<ItemArray.length;i++){
			var TestString="";
			//console.log("\t\tThis is "+ItemArray[i]+"'s data: "+Data[ItemArray[i]]);
			if(Data[ItemArray[i]]!=undefined){
				if(Data[ItemArray[i]].length>=3){
					
					return 1;				
				}
			}
		} 
		return 0;
	}
	  
	function PrintGear(GearCategory,RequestorData){
		//var Iterations=0;
		var GearListItem=[];

		if(GearCategory==="Head"){
			GearListItem=Head;
		}
		else if(GearCategory==="Chest"){
			GearListItem=Chest;
		}
		else if(GearCategory==="Legs"){
			GearListItem=Legs;
		}
		else if(GearCategory==="Feet"){
			GearListItem=Feet;
		}
		else if(GearCategory==="Shoulder"){
			GearListItem=Shoulder;
		}
		else if(GearCategory==="Hand"){
			GearListItem=Hand;
		}
		else if(GearCategory==="Belt"){
			GearListItem=Belt;		
		}
		else if(GearCategory==="Shield"){
			GearListItem=Shield;
		}
		else if(GearCategory==="Weapon1"){
			GearListItem=Weapon1;
		}
		else if(GearCategory==="Weapon2"){
			GearListItem=Weapon2;
		}
		else if(GearCategory==="Weapon3"){
			GearListItem=Weapon3;
		}
		
		var Row1=""
		var Row2=""

		for(var i=0;i<GearListItem.length;i++){
			var color="";
			var colorEnd="";
			if(RequestorData[GearListItem[i]]!=undefined){
				//var n = GearListItem[i].search(GearCategory);
				var start=GearListItem[i].lastIndexOf(GearCategory)+GearCategory.length;
				var stop=GearListItem[i].length;

//				if(RequestorData[GearListItem[i]].indexOf("Blue")>=0){
//					console.log("Found Blue!");
//				}
				//if(RequestorData[GearListItem[i]]=== || RequestorData[GearListItem[i]]===)
				Row1+="<th>"+GearListItem[i].substring(start, stop)+"</th>";
					var tuple=["1","2"];
					console.log("Sending to CheckForColor: "+RequestorData[GearListItem[i]]);
					tuple=CheckForColor(RequestorData[GearListItem[i]]);
					if(tuple!=undefined){
						console.log("Tuple[0]: "+tuple[0]+",Tuple[1]: "+tuple[1]);
						Row2+="<td><font color=\""+tuple[1]+"\">"+tuple[0]+"</font></td>";
					}
					else{
						Row2+="<td>"+RequestorData[GearListItem[i]]+"</td>";
					}
				//}
			}
		}
		
		//Row1+="</tr>";
		//Row2+="</tr>";
		//var GearString="<table class=\"table table-condensed\"><thead><tr>"+Row1+"</tr></thead><tbody><tr>"+Row2+"</tr></tbody></table>";
		var GearString=[Row1,Row2];
		//console.log("ReturnTable:\n"+GearString+"\n\n")
		return GearString;
	}
	
	function CheckForColor(PassedString){
		//var TestString=["HeavyBlue","AxeGreen"];
		var colors=["Blue","Green","Purple","Yellow"];

		//var PasteString="";
		//for(var s=0;s<TestString.length;s++){//Debugging/testing
		for(var t=0;t<colors.length;t++){
			if(PassedString.indexOf(colors[t])>=0){
				stop=PassedString.indexOf(colors[t]);
				//stop=TestString[s].length;
		var tuple=["1","2"];
				console.log("Parsed information: "+tuple[0]+", "+tuple[1]);
				tuple[0]=PassedString.substring(0,stop);
				tuple[1]=colors[t];
				console.log("\t In method -- Tuple[0]: "+tuple[0]+",Tuple[1]: "+tuple[1]);
				break;
			}
		}
		return tuple;
		//}
    //document.getElementById("demo").innerHTML = PasteString;
	}
	
	function CheckForCategoriesPresent(PlayerData,CategoryStorageArray){
		if(CheckForGear(Head,PlayerData)){
			CategoryStorageArray.push("Head");
		}
		if(CheckForGear(Chest,PlayerData)){
			CategoryStorageArray.push("Chest");
		}
		if(CheckForGear(Legs,PlayerData)){
			CategoryStorageArray.push("Legs");
		}
		if(CheckForGear(Feet,PlayerData)){
			CategoryStorageArray.push("Feet");
		}
		if(CheckForGear(Shoulder,PlayerData)){
			CategoryStorageArray.push("Shoulder");
		}
		if(CheckForGear(Hand,PlayerData)){
			CategoryStorageArray.push("Hand");
		}
		if(CheckForGear(Belt,PlayerData)){
			CategoryStorageArray.push("Belt");
		}
		if(CheckForGear(Shield,PlayerData)){
			CategoryStorageArray.push("Shield");
		}
		if(CheckForGear(Weapon1,PlayerData)){
			CategoryStorageArray.push("Weapon1");
		}
		if(CheckForGear(Weapon2,PlayerData)){
			CategoryStorageArray.push("Weapon2");
		}
		if(CheckForGear(Weapon3,PlayerData)){
			CategoryStorageArray.push("Weapon3");
		}
		
		return;
	}
    </script>
<!--
	<style>
	    row{
		    margin-top:40px;
		    padding: 0 10px;
		}
		clickable{
		    cursor: pointer;   
		}

		panel-heading div {
			margin-top: -18px;
			font-size: 15px;
		}
		panel-heading div span{
			margin-left:5px;
		}
		panel-body{
			display: none;
		}
	</style>
!-->
</head>

<body style="background-color:#262626">
<!--
<form role="form">
  <div class="form-group">
    <label for="email">Email address:</label>
    <input type="email" class="form-control" id="email">
  </div>
  <div class="form-group">
    <label for="pwd">Password:</label>
    <input type="password" class="form-control" id="pwd">
  </div>
  <div class="checkbox">
    <label><input type="checkbox"> Remember me</label>
  </div>
  <select class="form-control">
    <option value="one">One</option>
    <option value="two">Two</option>
    <option value="three">Three</option>
    <option value="four">Four</option>
    <option value="five">Five</option>
</select>
  <button type="submit" class="btn btn-default">Submit</button>
</form>
<hr>
!-->
	<font color="white">
	<div id="Fulfillments"></div>
	<hr>
    <div id="table_info"></div>   
	</font>
<!--
This is "http://silviomoreto.github.io/bootstrap-select/" code
	<hr>
	<select class="selectpicker" data-live-search="true" style="display: none;">
		<option>Hot Dog, Fries and a Soda</option>
		<option>Burger, Shake and a Smile</option>
		<option>Sugar, Spice and all things nice</option>
	</select>
!-->  
  </font>
  <br><br><hr>
<!--

<div class="container">
    <h1>Click the filter icon <small>(<i class="glyphicon glyphicon-filter"></i>)</small></h1>
    <div class="row">
	<div class="col-md-6">
		<div class="panel panel-primary">
			<div class="panel-heading">
				<h3 class="panel-title">Developers</h3>
				<div class="pull-right">
					<span class="clickable filter" data-toggle="tooltip" title="Toggle table filter" data-container="body">
						<i class="glyphicon glyphicon-filter"></i>
					</span>
				</div>
			</div>
			<div class="panel-body">
				<input type="text" class="form-control" id="dev-table-filter" data-action="filter" data-filters="#dev-table" placeholder="Filter Developers" />
			</div>
			<table class="table table-hover" id="dev-table">
				<thead>
					<tr>
						<th>#</th>
						<th>First Name</th>
						<th>Last Name</th>
						<th>Username</th>
					</tr>
				</thead>
				<tbody>
					<tr>
						<td>1</td>
						<td>Kilgore</td>
						<td>Trout</td>
						<td>kilgore</td>
					</tr>
					<tr>
						<td>2</td>
						<td>Bob</td>
						<td>Loblaw</td>
						<td>boblahblah</td>
					</tr>
					<tr>
						<td>3</td>
						<td>Holden</td>
						<td>Caulfield</td>
						<td>penceyreject</td>
					</tr>
				</tbody>
			</table>
		</div>
	</div>
	</div>
</div>

!-->
  </body>
  </html>

<!--
		/*
		Array.prototype.atIndices = function(ind) {
			var result = [];
			for (var i = 0; i < arguments.length; i++) {
				if (arguments[i] in this)
					result.push(this[arguments[i]])
				}
			return result;        
		}
		*/
		
		/*
		function pluck(arr, indices) {
			var result = [];
			var result2 = [];
			i = 0;
			len = indices.length;

			for (; i < len; i++) {
				result.push(arr[indices[i]]);
			}
			if(result===result2){
				return null;
			}
			else{
				return result;
			}
		}
		*/
!-->

<!--
		/*
		Array.prototype.atIndices = function(ind) {
			var result = [];
			for (var i = 0; i < arguments.length; i++) {
				if (arguments[i] in this)
					result.push(this[arguments[i]])
				}
			return result;        
		}
		*/
		
		/*
		function pluck(arr, indices) {
			var result = [];
			var result2 = [];
			i = 0;
			len = indices.length;

			for (; i < len; i++) {
				result.push(arr[indices[i]]);
			}
			if(result===result2){
				return null;
			}
			else{
				return result;
			}
		}
		*/
!-->